{"ast":null,"code":"import _regeneratorRuntime from \"/Users/jack.m/Sites/api-test-cartoncloud/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/jack.m/Sites/api-test-cartoncloud/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"/Users/jack.m/Sites/api-test-cartoncloud/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/jack.m/Sites/api-test-cartoncloud/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/jack.m/Sites/api-test-cartoncloud/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/jack.m/Sites/api-test-cartoncloud/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/jack.m/Sites/api-test-cartoncloud/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/Users/jack.m/Sites/api-test-cartoncloud/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/Users/jack.m/Sites/api-test-cartoncloud/src/App.js\";\nimport React, { Component } from 'react';\nimport './css/main.css';\nimport axios from 'axios';\nimport Header from './components/HeaderComponent';\nimport Table from './components/TableComponent';\nimport Form from './components/FormComponent';\n\nvar App =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(App, _Component);\n\n  function App(props) {\n    var _this;\n\n    _classCallCheck(this, App);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(App).call(this, props));\n    _this.state = {\n      data: {},\n      drivers: {},\n      disabled: false\n    };\n    _this.getData = _this.getData.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleSubmit = _this.handleSubmit.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.scrollTop = _this.scrollTop.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(App, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.getData();\n      console.log(this.state.drivers);\n    }\n  }, {\n    key: \"getData\",\n    value: function () {\n      var _getData = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee() {\n        var drivers, data;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return axios.get(\"http://localhost:8000/api/drivers.php\");\n\n              case 2:\n                drivers = _context.sent;\n                _context.next = 5;\n                return axios.get(\"http://localhost:8000/api/deliveries.php\").catch(function (error) {\n                  console.log(error);\n                });\n\n              case 5:\n                data = _context.sent;\n                this.setState({\n                  data: data.data,\n                  drivers: drivers.data\n                });\n\n              case 7:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      return function getData() {\n        return _getData.apply(this, arguments);\n      };\n    }()\n  }, {\n    key: \"handleSubmit\",\n    value: function handleSubmit(e) {\n      e.preventDefault();\n      axios.post(\"http://localhost:8000/api/deliveries.php?id=15\", {\n        \"date\": e.target.elements.date.value,\n        \"name\": e.target.elements.deliveryName.value,\n        \"driver_id\": e.target.elements.selectDriver.value\n      }).then(function (res) {\n        console.log(res);\n      });\n    }\n  }, {\n    key: \"scrollTop\",\n    value: function scrollTop() {\n      this.scrollToAnchor('form');\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        className: \"App\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57\n        },\n        __self: this\n      }, React.createElement(Header, {\n        onClick: this.scrollTop,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58\n        },\n        __self: this\n      }), React.createElement(\"hr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59\n        },\n        __self: this\n      }), React.createElement(Table, {\n        value: this.state,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60\n        },\n        __self: this\n      }), React.createElement(\"hr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61\n        },\n        __self: this\n      }), React.createElement(\"hr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62\n        },\n        __self: this\n      }), React.createElement(Form, {\n        value: this.state.drivers,\n        onSubmit: this.handleSubmit,\n        disabled: this.state.disabled,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return App;\n}(Component);\n\nexport default App;","map":{"version":3,"sources":["/Users/jack.m/Sites/api-test-cartoncloud/src/App.js"],"names":["React","Component","axios","Header","Table","Form","App","props","state","data","drivers","disabled","getData","bind","handleSubmit","scrollTop","console","log","get","catch","error","setState","e","preventDefault","post","target","elements","date","value","deliveryName","selectDriver","then","res","scrollToAnchor"],"mappings":";;;;;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAO,gBAAP;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,MAAP,MAAmB,8BAAnB;AACA,OAAOC,KAAP,MAAkB,6BAAlB;AACA,OAAOC,IAAP,MAAiB,4BAAjB;;IAEMC,G;;;;;AACF,eAAYC,KAAZ,EAAmB;AAAA;;AAAA;;AACf,6EAAMA,KAAN;AACA,UAAKC,KAAL,GAAa;AACTC,MAAAA,IAAI,EAAE,EADG;AAETC,MAAAA,OAAO,EAAE,EAFA;AAGTC,MAAAA,QAAQ,EAAE;AAHD,KAAb;AAKA,UAAKC,OAAL,GAAe,MAAKA,OAAL,CAAaC,IAAb,uDAAf;AACA,UAAKC,YAAL,GAAoB,MAAKA,YAAL,CAAkBD,IAAlB,uDAApB;AACA,UAAKE,SAAL,GAAiB,MAAKA,SAAL,CAAeF,IAAf,uDAAjB;AATe;AAUlB;;;;wCAEmB;AAChB,WAAKD,OAAL;AACAI,MAAAA,OAAO,CAACC,GAAR,CAAY,KAAKT,KAAL,CAAWE,OAAvB;AACH;;;;;;;;;;;;;uBAGyBR,KAAK,CAACgB,GAAN,CAAU,uCAAV,C;;;AAAhBR,gBAAAA,O;;uBACaR,KAAK,CAACgB,GAAN,CAAU,0CAAV,EACdC,KADc,CACR,UAAAC,KAAK,EAAI;AACZJ,kBAAAA,OAAO,CAACC,GAAR,CAAYG,KAAZ;AACH,iBAHc,C;;;AAAbX,gBAAAA,I;AAKN,qBAAKY,QAAL,CAAc;AACVZ,kBAAAA,IAAI,EAAEA,IAAI,CAACA,IADD;AAEVC,kBAAAA,OAAO,EAAEA,OAAO,CAACD;AAFP,iBAAd;;;;;;;;;;;;;;;;iCAMSa,C,EAAG;AACZA,MAAAA,CAAC,CAACC,cAAF;AACArB,MAAAA,KAAK,CAACsB,IAAN,CAAW,gDAAX,EAA6D;AACzD,gBAAQF,CAAC,CAACG,MAAF,CAASC,QAAT,CAAkBC,IAAlB,CAAuBC,KAD0B;AAEzD,gBAAQN,CAAC,CAACG,MAAF,CAASC,QAAT,CAAkBG,YAAlB,CAA+BD,KAFkB;AAGzD,qBAAaN,CAAC,CAACG,MAAF,CAASC,QAAT,CAAkBI,YAAlB,CAA+BF;AAHa,OAA7D,EAKCG,IALD,CAKM,UAAAC,GAAG,EAAI;AACThB,QAAAA,OAAO,CAACC,GAAR,CAAYe,GAAZ;AACH,OAPD;AAQH;;;gCAEY;AACT,WAAKC,cAAL,CAAoB,MAApB;AACH;;;6BAEQ;AACL,aACI;AAAK,QAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI,oBAAC,MAAD;AAAQ,QAAA,OAAO,EAAE,KAAKlB,SAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADJ,EAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFJ,EAGI,oBAAC,KAAD;AAAO,QAAA,KAAK,EAAE,KAAKP,KAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAHJ,EAII;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAJJ,EAKI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QALJ,EAMI,oBAAC,IAAD;AAAM,QAAA,KAAK,EAAE,KAAKA,KAAL,CAAWE,OAAxB;AAAiC,QAAA,QAAQ,EAAE,KAAKI,YAAhD;AAA8D,QAAA,QAAQ,EAAE,KAAKN,KAAL,CAAWG,QAAnF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QANJ,CADJ;AAWH;;;;EA3DaV,S;;AA8DlB,eAAeK,GAAf","sourcesContent":["import React, { Component } from 'react';\nimport './css/main.css';\nimport axios from 'axios';\nimport Header from './components/HeaderComponent';\nimport Table from './components/TableComponent';\nimport Form from './components/FormComponent';\n\nclass App extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            data: {},\n            drivers: {},\n            disabled: false\n        }\n        this.getData = this.getData.bind(this);\n        this.handleSubmit = this.handleSubmit.bind(this);\n        this.scrollTop = this.scrollTop.bind(this);\n    }\n\n    componentDidMount() {\n        this.getData();\n        console.log(this.state.drivers);\n    }\n\n    async getData() {\n        const drivers = await axios.get(\"http://localhost:8000/api/drivers.php\");\n        const data = await axios.get(\"http://localhost:8000/api/deliveries.php\")\n            .catch(error => {\n                console.log(error);\n            });\n\n        this.setState({\n            data: data.data,\n            drivers: drivers.data,\n        });\n    }\n\n    handleSubmit(e) {\n        e.preventDefault();\n        axios.post(\"http://localhost:8000/api/deliveries.php?id=15\", {\n            \"date\": e.target.elements.date.value,\n            \"name\": e.target.elements.deliveryName.value,\n            \"driver_id\": e.target.elements.selectDriver.value\n        })\n        .then(res => {\n            console.log(res);\n        })\n    }\n\n    scrollTop () {\n        this.scrollToAnchor('form');\n    }\n\n    render() {\n        return (\n            <div className=\"App\">\n                <Header onClick={this.scrollTop}/>\n                <hr />\n                <Table value={this.state} />\n                <hr />\n                <hr />\n                <Form value={this.state.drivers} onSubmit={this.handleSubmit} disabled={this.state.disabled}/>\n\n            </div>\n        );\n    }\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}