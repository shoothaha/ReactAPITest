{"ast":null,"code":"import _regeneratorRuntime from \"/Users/jack.m/Sites/api-test-cartoncloud/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/jack.m/Sites/api-test-cartoncloud/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"/Users/jack.m/Sites/api-test-cartoncloud/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/jack.m/Sites/api-test-cartoncloud/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/jack.m/Sites/api-test-cartoncloud/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/jack.m/Sites/api-test-cartoncloud/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/jack.m/Sites/api-test-cartoncloud/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/Users/jack.m/Sites/api-test-cartoncloud/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/Users/jack.m/Sites/api-test-cartoncloud/src/App.js\";\nimport React, { Component } from 'react';\nimport './css/main.css';\nimport axios from 'axios';\nimport Header from './components/HeaderComponent';\nimport Table from './components/TableComponent';\nimport Form from './components/FormComponent';\n\nvar App =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(App, _Component);\n\n  function App(props) {\n    var _this;\n\n    _classCallCheck(this, App);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(App).call(this, props));\n    _this.state = {\n      data: {},\n      drivers: {},\n      inputDisabled: false,\n      newDeliveryButtonClicked: true,\n      showComponent: false\n    };\n    _this.getData = _this.getData.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleSubmit = _this.handleSubmit.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.newDeliveryButtonClicked = _this.newDeliveryButtonClicked.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.editButtonClicked = _this.editButtonClicked.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(App, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.getData();\n    }\n  }, {\n    key: \"getData\",\n    value: function () {\n      var _getData = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee() {\n        var drivers, data;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return axios.get(\"http://localhost:8000/api/drivers.php\");\n\n              case 2:\n                drivers = _context.sent;\n                _context.next = 5;\n                return axios.get(\"http://localhost:8000/api/deliveries.php\").catch(function (error) {\n                  console.log(error);\n                });\n\n              case 5:\n                data = _context.sent;\n                this.setState({\n                  data: data.data,\n                  drivers: drivers.data\n                });\n\n              case 7:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      return function getData() {\n        return _getData.apply(this, arguments);\n      };\n    }()\n  }, {\n    key: \"handleSubmit\",\n    value: function handleSubmit(e) {\n      e.preventDefault();\n      axios.post(\"http://localhost:8000/api/deliveries.php?id=15\", {\n        \"date\": e.target.elements.date.value,\n        \"name\": e.target.elements.deliveryName.value,\n        \"driver_id\": e.target.elements.selectDriver.value\n      }).then(function (res) {\n        console.log(res);\n      });\n    }\n  }, {\n    key: \"newDeliveryButtonClicked\",\n    value: function newDeliveryButtonClicked() {\n      this.setState({\n        inputDisabled: false,\n        newDeliveryButtonClicked: true,\n        showComponent: true\n      });\n    }\n  }, {\n    key: \"editButtonClicked\",\n    value: function editButtonClicked() {\n      this.setState({\n        inputDisabled: true,\n        newDeliveryButtonClicked: false,\n        showComponent: true\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        className: \"App\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71\n        },\n        __self: this\n      }, React.createElement(Header, {\n        onClick: this.newDeliveryButtonClicked,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72\n        },\n        __self: this\n      }), React.createElement(\"hr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73\n        },\n        __self: this\n      }), this.state.showComponent && React.createElement(Form, {\n        value: this.state.drivers,\n        onSubmit: this.handleSubmit,\n        inputDisabled: this.state.inputDisabled,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76\n        },\n        __self: this\n      }), React.createElement(\"hr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82\n        },\n        __self: this\n      }), React.createElement(Table, {\n        value: this.state,\n        onClick: this.editButtonClicked,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return App;\n}(Component);\n\nexport default App;","map":{"version":3,"sources":["/Users/jack.m/Sites/api-test-cartoncloud/src/App.js"],"names":["React","Component","axios","Header","Table","Form","App","props","state","data","drivers","inputDisabled","newDeliveryButtonClicked","showComponent","getData","bind","handleSubmit","editButtonClicked","get","catch","error","console","log","setState","e","preventDefault","post","target","elements","date","value","deliveryName","selectDriver","then","res"],"mappings":";;;;;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAO,gBAAP;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,MAAP,MAAmB,8BAAnB;AACA,OAAOC,KAAP,MAAkB,6BAAlB;AACA,OAAOC,IAAP,MAAiB,4BAAjB;;IAEMC,G;;;;;AACF,eAAYC,KAAZ,EAAmB;AAAA;;AAAA;;AACf,6EAAMA,KAAN;AACA,UAAKC,KAAL,GAAa;AACTC,MAAAA,IAAI,EAAE,EADG;AAETC,MAAAA,OAAO,EAAE,EAFA;AAGTC,MAAAA,aAAa,EAAE,KAHN;AAITC,MAAAA,wBAAwB,EAAE,IAJjB;AAKTC,MAAAA,aAAa,EAAE;AALN,KAAb;AAOA,UAAKC,OAAL,GAAe,MAAKA,OAAL,CAAaC,IAAb,uDAAf;AACA,UAAKC,YAAL,GAAoB,MAAKA,YAAL,CAAkBD,IAAlB,uDAApB;AACA,UAAKH,wBAAL,GAAgC,MAAKA,wBAAL,CAA8BG,IAA9B,uDAAhC;AACA,UAAKE,iBAAL,GAAyB,MAAKA,iBAAL,CAAuBF,IAAvB,uDAAzB;AAZe;AAalB;;;;wCAEmB;AAChB,WAAKD,OAAL;AACH;;;;;;;;;;;;;uBAGyBZ,KAAK,CAACgB,GAAN,CAAU,uCAAV,C;;;AAAhBR,gBAAAA,O;;uBACaR,KAAK,CAACgB,GAAN,CAAU,0CAAV,EACdC,KADc,CACR,UAAAC,KAAK,EAAI;AACZC,kBAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ;AACH,iBAHc,C;;;AAAbX,gBAAAA,I;AAKN,qBAAKc,QAAL,CAAc;AACVd,kBAAAA,IAAI,EAAEA,IAAI,CAACA,IADD;AAEVC,kBAAAA,OAAO,EAAEA,OAAO,CAACD;AAFP,iBAAd;;;;;;;;;;;;;;;;iCAMSe,C,EAAG;AACZA,MAAAA,CAAC,CAACC,cAAF;AACAvB,MAAAA,KAAK,CAACwB,IAAN,CAAW,gDAAX,EAA6D;AACzD,gBAAQF,CAAC,CAACG,MAAF,CAASC,QAAT,CAAkBC,IAAlB,CAAuBC,KAD0B;AAEzD,gBAAQN,CAAC,CAACG,MAAF,CAASC,QAAT,CAAkBG,YAAlB,CAA+BD,KAFkB;AAGzD,qBAAaN,CAAC,CAACG,MAAF,CAASC,QAAT,CAAkBI,YAAlB,CAA+BF;AAHa,OAA7D,EAKCG,IALD,CAKM,UAAAC,GAAG,EAAI;AACTb,QAAAA,OAAO,CAACC,GAAR,CAAYY,GAAZ;AACH,OAPD;AAQH;;;+CAE2B;AACxB,WAAKX,QAAL,CAAe;AACXZ,QAAAA,aAAa,EAAE,KADJ;AAEXC,QAAAA,wBAAwB,EAAE,IAFf;AAGXC,QAAAA,aAAa,EAAE;AAHJ,OAAf;AAKH;;;wCAEoB;AACjB,WAAKU,QAAL,CAAe;AACXZ,QAAAA,aAAa,EAAE,IADJ;AAEXC,QAAAA,wBAAwB,EAAE,KAFf;AAGXC,QAAAA,aAAa,EAAE;AAHJ,OAAf;AAKH;;;6BAEQ;AACL,aACI;AAAK,QAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI,oBAAC,MAAD;AAAQ,QAAA,OAAO,EAAE,KAAKD,wBAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADJ,EAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFJ,EAII,KAAKJ,KAAL,CAAWK,aAAX,IACA,oBAAC,IAAD;AACI,QAAA,KAAK,EAAE,KAAKL,KAAL,CAAWE,OADtB;AAEI,QAAA,QAAQ,EAAE,KAAKM,YAFnB;AAGI,QAAA,aAAa,EAAE,KAAKR,KAAL,CAAWG,aAH9B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QALJ,EAWI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAXJ,EAYI,oBAAC,KAAD;AAAO,QAAA,KAAK,EAAE,KAAKH,KAAnB;AAA0B,QAAA,OAAO,EAAI,KAAKS,iBAA1C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAZJ,CADJ;AAgBH;;;;EA9EahB,S;;AAiFlB,eAAeK,GAAf","sourcesContent":["import React, { Component } from 'react';\nimport './css/main.css';\nimport axios from 'axios';\nimport Header from './components/HeaderComponent';\nimport Table from './components/TableComponent';\nimport Form from './components/FormComponent';\n\nclass App extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            data: {},\n            drivers: {},\n            inputDisabled: false,\n            newDeliveryButtonClicked: true,\n            showComponent: false\n        }\n        this.getData = this.getData.bind(this);\n        this.handleSubmit = this.handleSubmit.bind(this);\n        this.newDeliveryButtonClicked = this.newDeliveryButtonClicked.bind(this);\n        this.editButtonClicked = this.editButtonClicked.bind(this);\n    }\n\n    componentDidMount() {\n        this.getData();\n    }\n\n    async getData() {\n        const drivers = await axios.get(\"http://localhost:8000/api/drivers.php\");\n        const data = await axios.get(\"http://localhost:8000/api/deliveries.php\")\n            .catch(error => {\n                console.log(error);\n            });\n\n        this.setState({\n            data: data.data,\n            drivers: drivers.data,\n        });\n    }\n\n    handleSubmit(e) {\n        e.preventDefault();\n        axios.post(\"http://localhost:8000/api/deliveries.php?id=15\", {\n            \"date\": e.target.elements.date.value,\n            \"name\": e.target.elements.deliveryName.value,\n            \"driver_id\": e.target.elements.selectDriver.value\n        })\n        .then(res => {\n            console.log(res);\n        })\n    }\n\n    newDeliveryButtonClicked () {\n        this.setState ({\n            inputDisabled: false,\n            newDeliveryButtonClicked: true,\n            showComponent: true\n        })\n    }\n\n    editButtonClicked () {\n        this.setState ({\n            inputDisabled: true,\n            newDeliveryButtonClicked: false,\n            showComponent: true\n        })\n    }\n\n    render() {\n        return (\n            <div className=\"App\">\n                <Header onClick={this.newDeliveryButtonClicked}/>\n                <hr />\n                {\n                this.state.showComponent &&\n                <Form \n                    value={this.state.drivers} \n                    onSubmit={this.handleSubmit} \n                    inputDisabled={this.state.inputDisabled}\n                />\n                }\n                <hr />\n                <Table value={this.state} onClick = {this.editButtonClicked}/>\n            </div>\n        );\n    }\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}